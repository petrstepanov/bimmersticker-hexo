var SelectWithImage=function(t){var i={},a={};return{init:function(e){e&&(a=t.extend(a,e.dataset),i.$select=t(e),i.$options=i.$select.find("option"),i.$selectWithImage=t("<div>").addClass("component-select-with-image"),i.$options.each(function(){$optionWithImage=t("<div>").addClass("select-with-image-item").data("value",t(this).attr("value")),i.$selectWithImage.append($optionWithImage.get(0));var e=t(this).data("bg-image");$optionWithImage.css("background-image",'url("'+e+'")'),t(this).attr("value")===i.$select.val()&&$optionWithImage.addClass("selected")}),i.$selectWithImage.insertBefore(i.$select),i.$optionsWithImage=i.$selectWithImage.find(".select-with-image-item"),($invisible=t("<div>").addClass("zero-size-invisible")).insertBefore(i.$select),$invisible.append(i.$select),i.$select.on("change",function(){i.$optionsWithImage.removeClass("selected");var e=t(this).val();i.$optionsWithImage.each(function(){t(this).data("value")===e&&t(this).addClass("selected")})}),i.$optionsWithImage.each(function(){t(this).on("click",function(){var e=t(this).data("value");i.$select.val(e).trigger("change")})}))}}};$(document).ready(function(){$(".js--component-select-with-image").each(function(){new SelectWithImage($).init(this)})});