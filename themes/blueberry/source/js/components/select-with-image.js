var $=require("jquery"),SelectWithImage=function(){var t={},i={};return{init:function(e){e&&(i=$.extend(i,e.dataset),t.$select=$(e),t.$options=t.$select.find("option"),t.$selectWithImage=$("<div>",{class:"component-select-with-image"}),t.$options.each(function(){$optionWithImage=$("<div>",{class:"select-with-image-item","data-value":$(this).attr("value")}),t.$selectWithImage.append($optionWithImage);var e=$(this).data("bg-image");$optionWithImage.css("background-image",'url("'+e+'")'),$(this).is(":selected")&&$optionWithImage.addClass("selected")}),t.$selectWithImage.insertBefore(t.$select),t.$optionsWithImage=t.$selectWithImage.find(".select-with-image-item"),($invisible=$("<div>",{class:"zero-size-invisible"})).insertBefore(t.$select),$invisible.append(t.$select),t.$select.on("change",function(){t.$optionsWithImage.removeClass("selected"),t.$selectWithImage.find("[data-value='"+this.value+"']").addClass("selected")}),t.$optionsWithImage.each(function(){$(this).on("click",function(){var e=$(this).data("value");t.$select.val(e).change()})}))}}};module.exports=SelectWithImage;